<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">

<properties>
<comment>woder-sql.xml</comment>

<!-- 자유게시판 목록 조회 -->
<entry key="selectlistFree">
SELECT * FROM (
    SELECT 
        BOARD_NO, BOARD_TITLE, BOARD_CONTENT, 
        TO_CHAR(CREATED_DT, 'YYYY-MM-DD') AS CREATED_DT,
        READ_COUNT, MEMBER_NM, QA_STATUS, WONDER_TYPE,
        LISTAGG(TAG_NAME, ', ') WITHIN GROUP (ORDER BY TAG_NAME) AS TAG_NAMES,
        ROW_NUMBER() OVER (ORDER BY BOARD_NO) AS ROW_NUM
    FROM BOARD
    JOIN WONDER_BOARD USING(BOARD_NO)
    JOIN MEMBER USING(MEMBER_NO)
    JOIN HASHTAG USING(BOARD_NO)
    WHERE WONDER_TYPE = '자유 궁금증' 
      AND BOARD_CD = '3' 
      AND BOARD_ST = '1'
    GROUP BY BOARD_NO, BOARD_TITLE, BOARD_CONTENT, TO_CHAR(CREATED_DT, 'YYYY-MM-DD'), 
             READ_COUNT, MEMBER_NM, QA_STATUS, WONDER_TYPE
)
WHERE ROW_NUM BETWEEN ? AND ?
</entry>

<entry key="boardDetail">
SELECT BOARD_NO, BOARD_TITLE, BOARD_CONTENT, CREATED_DT, MEMBER_NM,QA_STATUS FROM BOARD
JOIN MEMBER USING(MEMBER_NO)
JOIN WONDER_BOARD USING(BOARD_NO)
WHERE BOARD_CD = 3 AND BOARD_NO=?
</entry>
<<<<<<< HEAD
=======

<!-- 게시판 이름 조회 -->
<entry key="selectBoardName">
	SELECT BOARD_NM FROM BOARD_TYPE
	WHERE BOARD_CD = ?
</entry>

<!-- 특정 게시판 전체 게시글 수 조회  -->
<entry key="getListCount">
SELECT COUNT(*) FROM BOARD WHRE BOARD_CD = ?
AND BOARD_ST = 1 AND WONDER_TYPE='자유 궁금증'
</entry>

<!-- 특정 게시판 목록 조회  -->
<entry key = "selectBoardList">
	SELECT * FROM(
            SELECT ROWNUM RNUM, A.* FROM(
            SELECT BOARD_NO, BOARD_TITLE, BOARD_CONTENT, MEMBER_NM, 
            TO_CHAR(CREATED_DT,'YYYY-MM-DD')AS CREATE_DT 
            ,READ_COUNT
            FROM BOARD
            JOIN MEMBER USING(MEMBER_NO)
            JOIN WONDER_BOARD USING(BOARD_NO)
            WHERE BOARD_CD =?
            AND BOARD_ST=1 AND WONDER_TYPE ='자유 궁금증'
            ORDER BY BOARD_NO DESC
        )A
	)
	WHERE RNUM BETWEEN ? AND ?;

</entry>

>>>>>>> 63f5e571f38a5a5fc951cbda85e684e3ecebeb48
</properties>


