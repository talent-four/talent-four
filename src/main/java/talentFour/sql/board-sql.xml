<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
<comment>board-sql.xml</comment>

	<entry key="selectReview">
SELECT B.BOARD_NO, B.BOARD_TITLE, B.BOARD_CONTENT, TO_CHAR(B.CREATED_DT, 'YY-MM-DD'), TO_CHAR(B.UPDATE_DT, 'YY-MM-DD'), B.BOARD_ST, M.MEMBER_NM, R.REIVEW_STAR, R.CLASS_NO as parents , H.TAG_NAME , (SELECT COUNT(*) FROM REPORT WHERE B.BOARD_NO=BOARD_NO) AS REPORT, (SELECT COUNT(*) FROM THUMBS WHERE B.BOARD_NO=BOARD_NO) AS THUMBS, M.MEMBER_PROFILE, C.CLASS_NAME, INSTRUCTOR.MEMBER_NM AS INSTRUCTOR_NAME , C.CLASS_URL 
FROM BOARD B
JOIN REVIEW R ON (B.BOARD_NO=R.BOARD_NO)
JOIN HASHTAG H ON (B.BOARD_NO=H.BOARD_NO)
JOIN MEMBER M ON (B.MEMBER_NO=M.MEMBER_NO)
JOIN CLASS C ON (R.CLASS_NO = C.CLASS_NO)
JOIN MEMBER INSTRUCTOR ON (C.MEMBER_NO = INSTRUCTOR.MEMBER_NO)
WHERE BOARD_CD=3
	</entry>


	<entry key="chatting"> 
SELECT
    F.MEMBER_NM AS CHAT_FROM_NAME,
    T.MEMBER_NM AS CHAT_TO_NAME,
    C.CHAT_MESSAGE,
    TO_CHAR(C.CHAT_TIMESTAMP, 'MM-DD, HH24:MI:SS')
FROM
    CHATTING C
JOIN
    MEMBER F ON C.CHAT_FROM = F.MEMBER_NO
JOIN
    MEMBER T ON C.CHAT_TO = T.MEMBER_NO
WHERE F.MEMBER_NM=? AND T.MEMBER_NM=?
OR T.MEMBER_NM=? AND F.MEMBER_NM=?
ORDER BY
    C.CHAT_TIMESTAMP
	</entry>
</properties>
